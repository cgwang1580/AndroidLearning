[TOC]

## 易错点记录

### C++头文件类成员函数定义在类外

在类外定义成员函数，且定义在同一个头文件中，若这个头文件被多次包含会报`multiple define`的编译错误，如下：

```c++
// Model.h文件
class Model
{
    public:
    	Model ();
    	int val;
};

Model::Model()
{
    val = 0;
}
```

将定义放在类内则不会报错：

```c++
// Model.h文件
class Model
{
    public:
    	Model (){val = 0}
    	int val;
};
```

原因：

>内联的目的就是在编译期让编译器把使用函数的地方直接替换掉，而不是像普通函数一样通过链接器把地址链接上。这种情况，如果定义没有在头文件的话，编译器是无法进行函数替换的。所以C++规定，内联函数可以在程序中定义多次，只要内联函数定义在同一个cpp中只出现一次就行。
>
>如果直接在class中完成函数声明+定义的话，这种函数会被编译器当作inline的，因此满足上面inline函数可以放在头文件的规则。

